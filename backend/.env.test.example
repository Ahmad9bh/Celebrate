# backend/.env.test.example â€” Do NOT commit real secrets
# These values are used ONLY for local tests and prisma commands invoked by tests.
# Tests will reset the target DB schema. Use a dedicated test database/branch.

# Pooled URL for Prisma Client at runtime (vitest, dev servers)
# Use the Neon POOLER host with ssl + pgbouncer + low connection limit
# Example:
# postgresql://USER:PASS@ep-xxxxxx-pooler.eu-west-2.aws.neon.tech/DBNAME?sslmode=require&pgbouncer=true&connection_limit=1&connect_timeout=15
DATABASE_URL=postgresql://neondb_owner:npg_VZzyg1Oa2JmX@ep-lively-scene-ab78tzb2-pooler.eu-west-2.aws.neon.tech/test_db?sslmode=require&pgbouncer=true&connection_limit=1&connect_timeout=15

# Direct (non-pooled) URL for Prisma CLI (db push/reset during tests)
# Example (Neon direct host):
# postgresql://USER:PASS@ep-xxxxxx.eu-west-2.aws.neon.tech/DBNAME?sslmode=require&connect_timeout=15
DIRECT_DATABASE_URL=postgresql://neondb_owner:npg_VZzyg1Oa2JmX@ep-lively-scene-ab78tzb2.eu-west-2.aws.neon.tech/test_db?sslmode=require&connect_timeout=15

# Optional shadow database URL (used by Prisma migrate engine)
SHADOW_DATABASE_URL=postgresql://neondb_owner:npg_VZzyg1Oa2JmX@ep-lively-scene-ab78tzb2.eu-west-2.aws.neon.tech/test_shadow_db?sslmode=require&connect_timeout=15

# Other test-related vars
JWT_SECRET=dev-secret
USE_MOCK_STRIPE=1
ALLOWED_ORIGINS=http://localhost:3000

# Stability (Windows/CI)
PRISMA_CLIENT_ENGINE_TYPE=binary

